import{i as u,o as a,l as r,a as s,s as h,t as o,F as w,m as b,p as c,b as T,f as E,z as l,E as V,e as z}from"./index-DVLVCbr2.js";import{d as F}from"./tests-DMguu1U4.js";import{_ as P}from"./_plugin-vue_export-helper-DlAUqK2U.js";const W={class:"test-result-page"},j={class:"score-card"},Q={class:"score-value"},G={class:"score-total"},J={class:"score-info"},K={class:"score-stats"},O={class:"stat-item correct"},U={class:"stat-value"},X={class:"stat-item wrong"},Y={class:"stat-value"},Z={class:"stat-item time"},ss={class:"stat-value"},ts={class:"grade-section"},es={class:"grade-icon"},ns={class:"grade-text"},os={class:"grade-encouragement"},as={key:0,class:"error-analysis"},rs={class:"error-list"},ls={class:"error-header"},is={class:"question-num"},us={class:"question-type"},cs={class:"error-content"},ds={class:"question-display"},ps=["innerHTML"],_s={key:0,class:"question-options"},vs={class:"option-letter"},gs=["innerHTML"],ms={class:"analysis-section"},fs={class:"analysis-item"},ys={class:"analysis-value user-answer"},hs={class:"analysis-item"},ws={class:"analysis-value correct-answer"},bs={key:0,class:"analysis-item explanation"},Ts=["innerHTML"],xs={key:1,class:"knowledge-tag"},Cs={class:"action-buttons"},ks={key:1,class:"suggestions"},As={__name:"TestResultPage",setup(qs){const _=z(),d=E(),v=u(Number(d.params.correctCount)||0),x=u(Number(d.params.totalCount)||0),k=u(Number(d.params.score)||0),A=u(Number(d.params.totalScore)||100),q=u(Number(d.params.timeSpent)||0),g=u([{index:2,type:"choice",typeText:"é€‰æ‹©é¢˜",question:"She has lived in Beijing ___ 2010.",options:["since","for","in","at"],userAnswer:1,correctAnswer:0,userAnswerText:"for",correctAnswerText:"since",explanation:"<strong>since</strong> ç”¨äºè¡¨ç¤ºæ—¶é—´ç‚¹çš„å¼€å§‹ï¼Œåé¢æ¥å…·ä½“çš„æ—¶é—´ç‚¹æˆ–å¹´ä»½ã€‚<br><strong>for</strong> ç”¨äºè¡¨ç¤ºä¸€æ®µæ—¶é—´çš„æŒç»­ã€‚",knowledge_point:"since / for åŒºåˆ«"},{index:4,type:"choice",typeText:"é€‰æ‹©é¢˜",question:"___ volume please? I can't hear clearly.",options:["Can you turn up","Can you turn down","Could you turn up","Could you turn down"],userAnswer:1,correctAnswer:2,userAnswerText:"Can you turn down",correctAnswerText:"Could you turn up",explanation:'<strong>Could</strong> æ¯” <strong>Can</strong> æ›´ç¤¼è²Œã€‚<br><strong>Turn up</strong> è¡¨ç¤º"è°ƒå¤§"ï¼Œç¬¦åˆå¥æ„"æˆ‘å¬ä¸æ¸…ï¼Œè¯·æŠŠéŸ³é‡è°ƒå¤§"ã€‚',knowledge_point:"æƒ…æ€åŠ¨è¯"}]),m=l(()=>x.value-v.value),i=l(()=>Math.round(v.value/x.value*100)),M=l(()=>{const e=i.value;return e>=90?"excellent":e>=80?"good":e>=60?"pass":"fail"}),N=l(()=>{const e=i.value;return e>=90?"å¤ªæ£’äº†ï¼":e>=80?"è¡¨ç°ä¼˜ç§€ï¼":e>=60?"ç»§ç»­åŠ æ²¹ï¼":"éœ€è¦å¤šç»ƒä¹ ï¼"}),f=l(()=>{const e=i.value;return e>=90?"s":e>=80?"a":e>=70?"b":e>=60?"c":"d"}),H=l(()=>({s:"ğŸ†",a:"ğŸŒŸ",b:"ğŸ‘",c:"ğŸ’ª",d:"ğŸ“š"})[f.value]),L=l(()=>({s:"ä¼˜ç§€",a:"è‰¯å¥½",b:"ä¸­ç­‰",c:"åŠæ ¼",d:"éœ€åŠªåŠ›"})[f.value]),S=l(()=>{const e=i.value;return e>=90?"ä½ çš„è‹±è¯­åŸºç¡€éå¸¸æ‰å®ï¼Œç»§ç»­ä¿æŒï¼":e>=80?"è¡¨ç°ä¸é”™ï¼Œå†æ¥å†å‰å¯ä»¥æ›´ä¼˜ç§€ï¼":e>=60?"è¿›æ­¥ç©ºé—´è¿˜å¾ˆå¤§ï¼Œç»§ç»­åŠªåŠ›ï¼":"ä¸è¦æ°”é¦ï¼Œé”™äº†å°±æ˜¯å­¦ä¹ çš„æœºä¼šï¼"}),C=l(()=>{const e=[];return m.value>0&&(e.push("å»ºè®®é’ˆå¯¹é”™é¢˜æ¶‰åŠçš„çŸ¥è¯†ç‚¹è¿›è¡Œä¸“é¡¹å¤ä¹ "),e.push('å¯ä»¥å°è¯•"é”™é¢˜é‡ç»ƒ"åŠŸèƒ½ï¼Œå·©å›ºè–„å¼±ç¯èŠ‚')),i.value<80&&(e.push("æ¯å¤©åšæŒç»ƒä¹ ï¼Œä¿æŒå­¦ä¹ èŠ‚å¥"),e.push("é‡åˆ°ä¸æ‡‚çš„é—®é¢˜å¯ä»¥å‘AIåŠ©æ•™è¯·æ•™")),e});function I(e){const t=Math.floor(e/60),n=e%60;return t>0?`${t}åˆ†${n}ç§’`:`${n}ç§’`}function R(){_.push({name:"Dashboard"})}async function $(){try{const e=await F({wrong_question_ids:g.value.map(t=>t.id||`q${t.index}`),difficulty:"medium"});_.push({name:"TakeTest",params:{testId:e.test_id}})}catch(e){console.error("ç”Ÿæˆé”™é¢˜æµ‹è¯•å¤±è´¥:",e),V.error("ç”Ÿæˆå¤±è´¥ï¼Œè¯·é‡è¯•")}}function B(){_.push({name:"Dashboard"})}return(e,t)=>(a(),r("div",W,[s("div",j,[s("div",{class:h(["score-circle",M.value])},[s("span",Q,o(k.value),1),s("span",G,"/"+o(A.value),1)],2),s("div",J,[s("h2",null,o(N.value),1),s("p",null,"æ­£ç¡®ç‡ "+o(i.value)+"%",1)]),s("div",K,[s("div",O,[t[0]||(t[0]=s("span",{class:"stat-icon"},"âœ“",-1)),s("span",U,o(v.value),1),t[1]||(t[1]=s("span",{class:"stat-label"},"æ­£ç¡®",-1))]),s("div",X,[t[2]||(t[2]=s("span",{class:"stat-icon"},"âœ—",-1)),s("span",Y,o(m.value),1),t[3]||(t[3]=s("span",{class:"stat-label"},"é”™è¯¯",-1))]),s("div",Z,[t[4]||(t[4]=s("span",{class:"stat-icon"},"â±",-1)),s("span",ss,o(I(q.value)),1),t[5]||(t[5]=s("span",{class:"stat-label"},"ç”¨æ—¶",-1))])])]),s("div",ts,[s("div",{class:h(["grade-badge",f.value])},[s("span",es,o(H.value),1),s("span",ns,o(L.value),1)],2),s("p",os,o(S.value),1)]),g.value.length>0?(a(),r("div",as,[t[10]||(t[10]=s("h3",null,"ğŸ“ é”™é¢˜åˆ†æ",-1)),s("div",rs,[(a(!0),r(w,null,b(g.value,(n,y)=>(a(),r("div",{key:y,class:"error-item"},[s("div",ls,[s("span",is,"ç¬¬ "+o(n.index)+" é¢˜",1),s("span",us,o(n.typeText),1)]),s("div",cs,[s("div",ds,[s("div",{class:"question-text",innerHTML:n.question},null,8,ps),n.options?(a(),r("div",_s,[(a(!0),r(w,null,b(n.options,(D,p)=>(a(),r("div",{key:p,class:h(["option",{correct:p===n.correctAnswer,wrong:p===n.userAnswer&&p!==n.correctAnswer}])},[s("span",vs,o(String.fromCharCode(65+p)),1),s("span",{innerHTML:D},null,8,gs)],2))),128))])):c("",!0)]),s("div",ms,[s("div",fs,[t[6]||(t[6]=s("span",{class:"analysis-label"},"ä½ çš„ç­”æ¡ˆï¼š",-1)),s("span",ys,o(n.userAnswerText),1)]),s("div",hs,[t[7]||(t[7]=s("span",{class:"analysis-label"},"æ­£ç¡®ç­”æ¡ˆï¼š",-1)),s("span",ws,o(n.correctAnswerText),1)]),n.explanation?(a(),r("div",bs,[t[8]||(t[8]=s("span",{class:"analysis-label"},"è§£æï¼š",-1)),s("span",{class:"analysis-value",innerHTML:n.explanation},null,8,Ts)])):c("",!0),n.knowledge_point?(a(),r("div",xs,[t[9]||(t[9]=s("span",{class:"tag-icon"},"ğŸ“š",-1)),s("span",null,o(n.knowledge_point),1)])):c("",!0)])])]))),128))])])):c("",!0),s("div",Cs,[s("button",{class:"btn btn-outline",onClick:R},[...t[11]||(t[11]=[s("span",null,"ğŸ“–",-1),T(" é‡æ–°æŸ¥çœ‹ ",-1)])]),m.value>0?(a(),r("button",{key:0,class:"btn btn-primary",onClick:$},[...t[12]||(t[12]=[s("span",null,"ğŸ¯",-1),T(" é”™é¢˜é‡ç»ƒ ",-1)])])):c("",!0),s("button",{class:"btn btn-success",onClick:B},[...t[13]||(t[13]=[s("span",null,"ğŸ ",-1),T(" è¿”å›é¦–é¡µ ",-1)])])]),C.value.length>0?(a(),r("div",ks,[t[14]||(t[14]=s("h3",null,"ğŸ’¡ å­¦ä¹ å»ºè®®",-1)),s("ul",null,[(a(!0),r(w,null,b(C.value,(n,y)=>(a(),r("li",{key:y},o(n),1))),128))])])):c("",!0)]))}},Ls=P(As,[["__scopeId","data-v-33506a65"]]);export{Ls as default};
